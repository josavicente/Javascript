let deck=[];const tipos=["C","D","H","S"],especiales=["A","J","Q","K"],botonPedir=document.querySelector("#btn-pedir"),botonStop=document.querySelector("#btn-stop"),botonNuevo=document.querySelector("#btn-nuevo");let puntosJugador=0,puntosIA=0;const divCartasJugador=document.querySelector("#jugador-cartas"),divCartasIA=document.querySelector("#ia-cartas"),smalls=document.querySelectorAll("small"),crearDeck=()=>{for(let a=2;a<=10;a++)for(let b of tipos)deck.push(a+b);for(let c of especiales)for(let d of tipos)deck.push(c+d);return deck=_.shuffle(deck)},pedirCarta=()=>{if(0==deck.length)throw"No hay cartas";let a=deck.pop();return a},valorCarta=b=>{let a=b.substring(0,b.length-1);return isNaN(a)?"A"===a?11:10:1*a},turnoIA=a=>{do{let c=pedirCarta();puntosIA+=valorCarta(c),smalls[1].innerText=puntosIA;let b=document.createElement("img");if(b.src=`assets/cartas/${c}.png`,b.classList.add("carta"),divCartasIA.append(b),a>21){alert("IA Gana");break}}while(puntosIA<a&&a<21)setTimeout(()=>{puntosIA===a?alert("Nadie Gana :("):a>21?alert("IA Gana"):puntosIA>21?alert("Jugador gana"):alert("IA gana")},10)};crearDeck(),console.log(deck);const carta=valorCarta(pedirCarta());botonPedir.addEventListener("click",()=>{let b=pedirCarta();puntosJugador+=valorCarta(b),smalls[0].innerText=puntosJugador;let a=document.createElement("img");a.src=`assets/cartas/${b}.png`,a.classList.add("carta"),divCartasJugador.append(a),puntosJugador>21?(console.warn("Perdiste"),botonPedir.disabled=!0,botonStop.disabled=!0,turnoIA(puntosJugador)):21===puntosJugador&&(console.warn("Ganaste"),botonPedir.disabled=!0,botonStop.disabled=!0,turnoIA(puntosJugador))}),botonStop.addEventListener("click",()=>{botonStop.disabled=!0,botonPedir.disabled=!0,turnoIA(puntosJugador)}),botonNuevo.addEventListener("click",()=>{console.clear(),botonStop.disabled=!1,botonPedir.disabled=!1,deck=[],deck=crearDeck(),smalls[0].innerText=0,smalls[1].innerText=0,puntosIA=0,puntosJugador=0,divCartasJugador.innerHTML="",divCartasIA.innerHTML=""})